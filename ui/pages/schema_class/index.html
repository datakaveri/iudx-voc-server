<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="IUDX | Indian Urban Data Exchange">
    <meta name="organization" content="RBCCPS, IISc Bangalore">
    <meta name="keywords" content="IUDX, CATALOGUE, RBCCPS, IISc BANGALORE">
    <meta name="author" content="Rohina Naaz">
    <link rel="shortcut icon" href="../assets/img/favicon.icon">
    <title id="smartcity_name"> </title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> -->
    <!-- <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.min.css">  -->
    <link href="../../assets/css/schema.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="../assets/css/jquery-ui.css"> -->

    <!-- Google Fonts  -->
    <link href="https://fonts.googleapis.com/css?family=Darker+Grotesque&display=swap" rel="stylesheet">
</head>

<body>
    <!-- <div class="container-fluid"> -->
    <!-- ***** Header Area Start ***** -->
    <!-- <header> -->
    <div id="container">
        <div id="intro">
            <div id="pageHeader">
                <div class="wrapper">
                    <div id="sitename">
                        <h1>
                            Iudx | Schema
                        </h1>
                    </div>
                    <div id="cse-search-form" style="width: 400px;">
                        <div class="gcse-searchbox-only" data-resultsUrl="docs/search_results.html"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="selectionbar">
        <div class="wrapper">
            <ul>

                <li>

                    <a href="#">Documentation</a>
                </li>
                <!-- <li>

                    <a href="./schema_class">Schemas</a>
                </li> -->
                <li>

                    <a href="./schema_property">Property</a>
                </li>
                <li>

                    <a href="/">Home</a><span>&nbsp;</span>

                </li>
            </ul>
        </div>
    </div>
    <!-- </header> -->
    <!-- ***** Header Area End ***** -->


    <!-- <div class="se-pre-con"></div> -->
    <section id="schema_class_section" class="container section">
                        
            <div id="mainContent">
                          
            
            <table id="schema_section" class="definition-table">
                <thead>
                    <tr>
                        <th>Class</th>
                        <th>&nbsp;</th>
                        <th>Description</th>
                    </tr>
                </thead>
    
                <tbody id="classSchema">
                </tbody>
               
                    
            </table>
    
            </div>
            <div id="footer"><p>
                    <!-- <a href="docs/terms.html">Terms and conditions</a></p> -->
            </div>
        
        </section>
    </body>
<!-- <script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script> -->
<!-- <script type="text/javascript" src="../assets/js/bootstrap.min.js"></script> -->
<!-- <script src="../assets/js/jquery-ui.js"></script> -->
<script src="../../assets/js/schema_functions.js"></script>
<script>


// function get_key(dict){
//     // console.log(Object.keys(dict)[0])
// 	return Object.keys(dict)[0]
// }

// function get_value(dict){
//     console.log(Object.values(dict)[0])
// 	return Object.values(dict)[0]
// }
function getSchemaClass(__data){
    return `
    <tr>           
                        <th class="prop-nam" scope="row">
      
                        <code property="rdfs:label"><a href="`+ "/" +__data[i]['rdfs:label']+`" onclick="show_property('`+__data[i]['rdfs:label']+`','`+__data[i]['rdfs:comment']+`')">`+__data[i]['rdfs:label']+`</a></code>
                        </th>
                        <td>&nbsp;</td>
                        <td class="prop-desc" property="rdfs:comment">`+__data[i]['rdfs:comment']+`</td></tr><tr typeof="rdfs:Property" resource="http://schema.org/addressCountry">
          
        
                    </tr>
                         `

}
    $(document).ready(function () {
        var proxy = 'https://cors-anywhere.herokuapp.com/';

        $.ajax({
            url: proxy + "https://voc.iudx.org.in/Place",
            type: 'GET',
            contentType: 'application/json+ld',
            success: function (data) {
               console.log(data);
              
               console.log(data['@graph']);
            var dataResult = data['@graph']

            var mapObj = new Map();
            for (i = 0; i < dataResult.length; i++) {

            mapObj.set(i+1,dataResult[i]);
            // mapObj.get(get_key(dataResult[i]))
            var strMap = JSON.stringify(Array.from(mapObj.entries()));
            }
            console.log(strMap)
            localStorage.setItem('dict',strMap)
            // var strMap = JSON.stringify(Array.from(mapObj.entries()));
            // console.log(strMap)
            console.log(localStorage.getItem('dict'))
            // $('#schema').append(`
            //                 <h1 class="page-title">`+dataResult[10]['rdfs:label']+`</h1>
            //                 <p id="comment">`+dataResult[10]['rdfs:comment']+`</p>
            //             `)
            // getSchemaClass(dataResult);

            for (i = 0; i < dataResult.length; i++) {
                if (dataResult[i]['@type'][1] === 'rdfs:Class') {
                    // console.log(dataResult[i]['@type'])
                    // console.log(dataResult[i]['rdfs:label'])
                    // console.log(dataResult[i]['rdfs:comment'])
                    // console.log(dataResult[i]['rdfs:subClassOf'])
                    // console.log(i)
                    $('#classSchema').append(getSchemaClass(dataResult));
                    // window.location.href = window.location.origin +"/"+dataResult[i]['rdfs:label'] 
                  
                    }
            }
            },
            error: function (error) {
                
            }
        });
       
     });
     

$('#footer').html(getFooterContent());
</script>

</html>